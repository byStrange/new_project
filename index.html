<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="assets/css/style.css" />
    <title>Document</title>
  </head>
  <body>
    <table class="table">
      <thead>
        <tr>
          <th>Markasi</th>
          <th>Avtomobil raqami</th>
          <th>Narxi</th>
          <th>Foizi</th>
          <th>Oyligi</th>
          <th>Sanasi</th>
          <th>Ismi</th>
          <th>Manzili</th>
          <th>Telefon raqami</th>
        </tr>
      </thead>
      <tbody id="tbody">
        <tr>
          <td>Cobalt</td>
          <td>p455la</td>
          <td>2000$</td>
          <td>35%</td>
          <td>6 oylik</td>
          <td>12.05.2023</td>
          <td>Qosimov Rahmatullo</td>
          <td>Andijon kengash 122</td>
          <td>+998 90 838 33 84</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td>
            <input
              type="text"
              placeholder="avtomobil turi"
              class="form-control"
              id="car_type"
            />
          </td>
          <td>
            <input
              type="text"
              placeholder="avtomobil raqami"
              class="form-control"
              id="car_number"
            />
          </td>
          <td>
            <input
              type="text"
              placeholder="narxi"
              class="form-control"
              id="price"
            />
          </td>
          <td>
            <input
              type="text"
              placeholder="foizi"
              class="form-control"
              id="percentage"
            />
          </td>
          <td>
            <select id="length" class="form-control">
              <option selected disabled>Oyligi</option>
              <option value="1">1 oylik</option>
              <option value="2">2 oylik</option>
              <option value="3">3 oylik</option>
              <option value="4">4 oylik</option>
              <option value="5">5 oylik</option>
              <option value="6">6 oylik</option>
              <option value="7">7 oylik</option>
              <option value="8">8 oylik</option>
              <option value="9">9 oylik</option>
              <option value="10">10 oylik</option>
              <option value="11">11 oylik</option>
              <option value="12">12 oylik</option>
              <option value="18">18 oylik</option>
              <option value="24">24 oylik</option>
            </select>
            -<span id="calculatedPrice"></span>
          </td>
          <td>
            <button
              class="btn btn-outline-primary"
              id="calculate"
              onclick="calclulate()"
            >
              Hisoblash
            </button>
          </td>
          <td>
            <input
              type="text"
              placeholder="ismi"
              class="form-control"
              id="name"
            />
          </td>
          <td>
            <input
              type="text"
              placeholder="manzili"
              class="form-control"
              id="address"
            />
          </td>
          <td>
            <input
              type="text"
              placeholder="telefon raqami"
              class="form-control"
              id="phone_number"
            />
          </td>
          <td>
            <button class="btn btn-primary" onclick="add()">Qo'shish</button>
          </td>
        </tr>
      </tfoot>
    </table>

    <script>
      function solve(price, percent, month) {
        var f = (price / 100) * percent;
        var cost = +price + f;
        cost = cost / month;
        return cost;
      }
      function calclulate() {
        var price = document.getElementById("price").value,
          percentage = document.getElementById("percentage").value,
          length = document.getElementById("length").value,
          calculatedPrice = document.getElementById("calculatedPrice");
        calculatedPrice.innerText = solve(+price, +percentage, length) + "$";
      }
      function add() {
        var car_type = document.getElementById("car_type").value,
          car_number = document.getElementById("car_number").value,
          price = document.getElementById("price").value,
          percentage = document.getElementById("percentage").value,
          length = document.getElementById("length").value,
          name = document.getElementById("name").value,
          address = document.getElementById("address").value,
          phone_number = document.getElementById("phone_number").value,
          tr = document.createElement("tr");
        tr.innerHTML += `
                <td>${car_type}</td>
                <td>${car_number}</td>
                <td>${price}</td>
                <td>${percentage}%</td>
                <td>${length}-${solve(+price, +percentage, length)}$</td>
                <td>12.05.2023</td>
                <td>${name}</td>
                <td>${address}</td>
                <td>${phone_number}</td>
                `;
        tbody = document.getElementById("tbody");
        tbody.appendChild(tr);
      }
    </script>
  </body>
</html>
